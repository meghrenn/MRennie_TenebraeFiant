<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/png" href="../images/logo/favicon.png">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/continue.css">
    <script src="../js/scripts.js"></script>
</head>

<body data-group-id="continue" data-page-id="four">
    <!-- <header id="main-header">
        <ul>
            <li id="about" class="basic-padding">About</li>
            <li id="help" class="basic-padding">Trouble</li>
            <li id="progress" class="basic-padding">Progress</li>
        </ul>
    </header> -->
    <main class="thick-padding right-container">
        <h1>Moment of Darkness</h1>
        <p> Surprise steals my breath like a chinook. I look at us and wonder, Are we worth saving?</p>
        <p class="tangent">(I think we’ve become just like the rest of them.)
        </p>
        <p>We let there be light, but it’s just a dull fluorescent beam. The eyes ache to look at it. I keep asking
            myself, Do we care for each other? Are we a community? </p>
        <p class="tangent">(I feel a little sick.)</p>
        <p>Our institution's first president, W.A.S. Smith, once said: "I suppose that because I've been treated
            well by it, I want there to be a reason for the university's continued existence" (p.15).
            I've been searching for that reason. I've been struggling to explain myself. I don't know. I don't know.</p>
        <div class="center-container basic-padding marginal-margin">
            <div id="continue" class="button basic-padding">continue</div>
        </div>

    </main>

    <div class="falling-container"></div>
</body>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const container = document.querySelector('.falling-container');

        const borderRadiusSet1 = '15% 40px 25% 5em / 30px 50% 20px 2em';
        const borderRadiusSet2 = '15px 5px 30% 2em / 30% 20% 2px 4em';
        const borderRadiusSet3 = '10% 20px 40% 3em / 20% 30% 12px 3em';

        const borderRadiusSets = [borderRadiusSet1, borderRadiusSet2, borderRadiusSet3];

        function createRock(size, duration, delay, leftPosition, borderRadiusSet) {
            const rock = document.createElement('div');
            rock.classList.add('rock');
            rock.style.width = size + 'px';
            rock.style.height = size + 'px';
            rock.style.animationDuration = duration + 's';
            rock.style.animationDelay = delay + 's';
            rock.style.left = leftPosition + '%';
            rock.style.borderRadius = borderRadiusSet;

            container.appendChild(rock);
        }

        function createSand(duration, delay, leftPosition) {
            const sand = document.createElement('div');
            sand.classList.add('sand');
            sand.style.animationDuration = duration + 's';
            sand.style.animationDelay = delay + 's';
            sand.style.left = leftPosition + '%';

            container.appendChild(sand);
        }

        const totalRocks = 12;

        // Create rocks and sand particles
        for (let i = 0; i < totalRocks; i++) {
            const rockSize = Math.random() * 100 + 20; // Random size between 20px and 100px
            const rockDuration = Math.random() * 0.25 + 0.35; // Faster duration between 3s and 5s
            const rockDelay = Math.random() * 3; // Random delay between 0s and 0.5s
            const rockLeft = Math.random() * 100; // Random horizontal position between 0% and 100%

            // Determine which border-radius set to use based on the rock's index
            const borderRadiusSet = borderRadiusSets[Math.floor(i / (totalRocks / 3))];

            // Create the rock with the selected border-radius
            createRock(rockSize, rockDuration, rockDelay, rockLeft, borderRadiusSet);

            // Create sand particles 
            for (let j = 0; j < 30; j++) {
                const sandDuration = Math.random() * 0.5 + 0;
                const sandDelay = Math.random() * 5; // Increased delay range for more staggering (0s to 1.5s)
                const sandLeft = rockLeft + Math.random() * 10 - 5;

                createSand(sandDuration, sandDelay, sandLeft);
            }
        }
    });

    document.getElementById("continue").addEventListener("click", function () {
        window.location.href = "../beginning/origins.html";
    });
</script>

</html>